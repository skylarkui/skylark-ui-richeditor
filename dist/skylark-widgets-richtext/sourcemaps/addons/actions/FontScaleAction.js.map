{"version":3,"sources":["addons/actions/FontScaleAction.js"],"names":["define","$","addons","Action","i18n","FontScaleAction","inherit","name","icon","htmlTag","disableTag","_init","this","menu","text","translate","param","prototype","call","_activeStatus","active","endNode","endNodes","startNode","startNodes","editor","editable","selection","range","filter","length","is","setActive","_execute","fontScale","actions"],"mappings":";;;;;;;AAAAA,QACE,qBACA,eACA,eACA,cACA,SAASC,EAAEC,EAAOC,EAAOC,GAEzB,IAAIC,EAAkBF,EAAOG,SAC3BC,KAAO,YAEPC,KAAO,OAEPC,QAAU,OAEVC,WAAa,0BAGbC,MAAQ,WAwBN,OAvBAC,KAAKC,OAEDN,KAAM,OACNO,KAAMV,EAAKW,UAAU,mBACrBC,MAAO,MAEPT,KAAM,OACNO,KAAMV,EAAKW,UAAU,kBACrBC,MAAO,MAEPT,KAAM,OACNO,KAAMV,EAAKW,UAAU,mBACrBC,MAAO,MAEPT,KAAM,MACNO,KAAMV,EAAKW,UAAU,kBACrBC,MAAO,MAEPT,KAAM,MACNO,KAAMV,EAAKW,UAAU,mBACrBC,MAAO,MAGJb,EAAOc,UAAUN,MAAMO,KAAKN,OAGrCO,cAAgB,WACd,IAAIC,EAAQC,EAASC,EAAiBC,EAAWC,EAQjD,OAPQZ,KAAKa,OAAOC,SAASC,UAAUC,QACvCJ,EAAaZ,KAAKa,OAAOC,SAASC,UAAUH,aAC5CF,EAAWV,KAAKa,OAAOC,SAASC,UAAUL,WAC1CC,EAAYC,EAAWK,OAAO,4BAC9BR,EAAUC,EAASO,OAAO,4BAC1BT,EAASI,EAAWM,OAAS,GAAKR,EAASQ,OAAS,GAAKP,EAAUQ,GAAGV,GACtET,KAAKoB,UAAUZ,GACRR,KAAKQ,QAGda,SAAW,SAASjB,GAClB,OAAOJ,KAAKa,OAAOC,SAASQ,UAAUlB,MAO1C,OAFAd,EAAOiC,QAAQD,UAAY7B,EAEpBA","file":"../../../addons/actions/FontScaleAction.js","sourcesContent":["define([\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n  \r\n  var FontScaleAction = Action.inherit({\r\n    name : 'fontScale',\r\n\r\n    icon : 'font',\r\n\r\n    htmlTag : 'span',\r\n\r\n    disableTag : 'pre, h1, h2, h3, h4, h5',\r\n\r\n\r\n    _init : function() {\r\n      this.menu = [\r\n        {\r\n          name: '150%',\r\n          text: i18n.translate('fontScaleXLarge'),\r\n          param: '5'\r\n        }, {\r\n          name: '125%',\r\n          text: i18n.translate('fontScaleLarge'),\r\n          param: '4'\r\n        }, {\r\n          name: '100%',\r\n          text: i18n.translate('fontScaleNormal'),\r\n          param: '3'\r\n        }, {\r\n          name: '75%',\r\n          text: i18n.translate('fontScaleSmall'),\r\n          param: '2'\r\n        }, {\r\n          name: '50%',\r\n          text: i18n.translate('fontScaleXSmall'),\r\n          param: '1'\r\n        }\r\n      ];\r\n      return Action.prototype._init.call(this);\r\n    },\r\n\r\n    _activeStatus : function() {\r\n      var active, endNode, endNodes, range, startNode, startNodes;\r\n      range = this.editor.editable.selection.range();\r\n      startNodes = this.editor.editable.selection.startNodes();\r\n      endNodes = this.editor.editable.selection.endNodes();\r\n      startNode = startNodes.filter('span[style*=\"font-size\"]');\r\n      endNode = endNodes.filter('span[style*=\"font-size\"]');\r\n      active = startNodes.length > 0 && endNodes.length > 0 && startNode.is(endNode);\r\n      this.setActive(active);\r\n      return this.active;\r\n    },\r\n\r\n    _execute : function(param) {\r\n      return this.editor.editable.fontScale(param);\r\n    }\r\n  });\r\n\r\n\r\n  addons.actions.fontScale = FontScaleAction; \r\n\r\n  return FontScaleAction;\r\n});"]}