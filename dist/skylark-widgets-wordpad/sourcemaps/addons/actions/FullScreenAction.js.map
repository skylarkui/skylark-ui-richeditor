{"version":3,"sources":["addons/actions/FullScreenAction.js"],"names":["define","$","addons","Action","i18n","FullScrennAction","inherit","name","icon","needFocus","_init","prototype","call","this","window","body","editable","editor","status","setActive","hasClass","constructor","cls","_execute","editablePadding","isFullscreen","_this","toggleClass","outerHeight","height","on","id","_resize","toolbar","_elm","off","size","zh-CN","fullscreen","actions"],"mappings":";;;;;;;AAAAA,QACE,qBACA,eACA,eACA,cACA,SAASC,EAAEC,EAAOC,EAAOC,GAGzB,IAAIC,EAAmBF,EAAOG,SAC5BC,KAAO,aAEPC,KAAO,aAEPC,WAAY,EAEZC,MAAQ,WACNP,EAAOQ,UAAUD,MAAME,KAAKC,MAE5BA,KAAKC,OAASb,EAAEa,QAChBD,KAAKE,KAAOd,EAAE,QACdY,KAAKG,SAAWH,KAAKI,OAAOF,MAI9BG,OAAS,WACP,OAAOL,KAAKM,UAAUN,KAAKE,KAAKK,SAASP,KAAKQ,YAAYC,OAG5DC,SAAW,WACT,IAAIC,EAAiBC,EAKqDC,EAa1E,OAjBAb,KAAKE,KAAKY,YAAYd,KAAKQ,YAAYC,MACvCG,EAAeZ,KAAKE,KAAKK,SAASP,KAAKQ,YAAYC,OAEjDE,EAAkBX,KAAKG,SAASY,cAAgBf,KAAKG,SAASa,SAC9DhB,KAAKC,OAAOgB,GAAG,6BAA+BjB,KAAKI,OAAOc,IAAcL,EAMrEb,KALM,WACL,OAAOa,EAAMM,SACXH,OAAQH,EAAMZ,OAAOe,SAAW5B,EAAEyB,EAAMT,OAAOgB,QAAQC,MAAMN,cAAgBJ,QAKnFX,KAAKC,OAAOqB,IAAI,6BAA+BtB,KAAKI,OAAOc,IAKtDlB,KAAKM,UAAUM,IAGxBO,QAAU,SAASI,GACjB,OAAOvB,KAAKG,SAASa,OAAOO,EAAKP,WAerC,OAXAxB,EAAiBiB,IAAM,qBAEvBjB,EAAiBD,MACfiC,SACEC,WAAY,OAKhBpC,EAAOqC,QAAQD,WAAajC,EAErBA","file":"../../../addons/actions/FullScreenAction.js","sourcesContent":["define([\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n\r\n  \r\n  var FullScrennAction = Action.inherit({\r\n    name : 'fullscreen',\r\n\r\n    icon : \"fullscreen\",\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n\r\n      this.window = $(window);\r\n      this.body = $('body');\r\n      this.editable = this.editor.body;\r\n    },\r\n\r\n\r\n    status : function() {\r\n      return this.setActive(this.body.hasClass(this.constructor.cls));\r\n    },\r\n\r\n    _execute : function() {\r\n      var editablePadding, isFullscreen;\r\n      this.body.toggleClass(this.constructor.cls);\r\n      isFullscreen = this.body.hasClass(this.constructor.cls);\r\n      if (isFullscreen) {\r\n        editablePadding = this.editable.outerHeight() - this.editable.height();\r\n        this.window.on(\"resize.wordpad-fullscreen-\" + this.editor.id, (function(_this) {\r\n          return function() {\r\n            return _this._resize({\r\n              height: _this.window.height() - $(_this.editor.toolbar._elm).outerHeight() - editablePadding\r\n            });\r\n          };\r\n        })(this));\r\n      } else {\r\n        this.window.off(\"resize.wordpad-fullscreen-\" + this.editor.id);\r\n        //this._resize({\r\n        //  height: 'auto'\r\n        //});\r\n      }\r\n      return this.setActive(isFullscreen);\r\n    },\r\n    \r\n    _resize : function(size) {\r\n      return this.editable.height(size.height);\r\n    }\r\n  });\r\n\r\n  FullScrennAction.cls = 'wordpad-fullscreen';\r\n\r\n  FullScrennAction.i18n = {\r\n    'zh-CN': {\r\n      fullscreen: '全屏'\r\n    }\r\n  };\r\n\r\n\r\n  addons.actions.fullscreen = FullScrennAction; \r\n\r\n  return FullScrennAction;\r\n\r\n }); "]}